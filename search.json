[{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"tutorial show append additional information longitudinal service-sector table using dplyr package FGconnectionHandler object FinnGenUtilsR package. Information add includes, name medical codes English, name type visit, name type provider. understand FGconnectionHandler recommended see dedicate vignette tutorial_connection_handler.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"set-up","dir":"Articles","previous_headings":"","what":"Set up","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"tutorial developed using dummy data Atlas development project. execute Sandbox, sure change configuration fit needs. Create FGconnectionHandler object connection configuration fg_get_bq_config. can check connection successful. can access service sector data using connection object follows: service_sector_tbl tbl object can used dplyr functions.","code":"library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(FinnGenUtilsR) config <- fg_get_bq_config(    environment = \"atlasDevelopment\",    dataFreezeNumber = 11    ) #> Set option sqlRenderTempEmulationSchema = 'atlas-development-270609.sandbox' config <- fg_get_bq_config(    environment = \"sandbox-6\", # set your sandbox number    dataFreezeNumber = 12 # set the dataFreeze you want to use    ) FGconnectionHandler <- create_fg_connection_handler_FromList(config) #> Connecting using BigQuery driver #> Created a temporary table named #cars #> Inserting data took 0.0107 secs #> Dropping tables 'luowphpfcars' from schema 'atlas-development-270609.sandbox'. #>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100% #> Executing SQL took 2.18 secs FGconnectionHandler$connectionStatusLog #> # A tibble: 4 × 4 #>   databaseName     type    step                          message                 #>   <chr>            <fct>   <chr>                         <chr>                   #> 1 atlasDevelopment SUCCESS Check database connection     Valid connection        #> 2 atlasDevelopment SUCCESS Check temp table creation     can create temp tables  #> 3 atlasDevelopment SUCCESS sandboxToolsSchema connection Connected to tables: b… #> 4 atlasDevelopment SUCCESS medicalCodesSchema connection Connected to tables: f… service_sector_tbl <- FGconnectionHandler$getTblsandboxToolsSchema$finngen_r11_service_sector_detailed_longitudinal_v1()"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"generate-a-table-in-service-sector-format","dir":"Articles","previous_headings":"","what":"Generate a table in service sector format","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"example create subset main service sector table filtering patients asthma diagnose (J45) INPAT source. IMPORTANT: important notice tables coming FGconnectionHandler columns lower case. can see table currently information medical codes:","code":"# get events with code \"J45\" in INPAT ss_subject_1_tbl  <- FGconnectionHandler$getTblsandboxToolsSchema$finngen_r11_service_sector_detailed_longitudinal_v1() |>    dplyr::filter(finngenid == \"FG00000001\") ss_subject_1_tbl #> Note: method with signature 'DBIConnection#SQL' chosen for function 'dbQuoteIdentifier', #>  target signature 'DatabaseConnectorJdbcConnection#SQL'. #>  \"DatabaseConnectorConnection#character\" would also be valid #> # Source:   SQL [?? x 16] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid  source   event_age approx_event_day code1  code2 code3 code4 code5 #>    <chr>      <chr>        <dbl> <date>           <chr>  <chr> <chr> <chr> <chr> #>  1 FG00000001 INPAT         65.7 2016-11-27       W79    NA    NA    37    1     #>  2 FG00000001 INPAT         54.9 2006-02-16       W00    NA    NA    1     1     #>  3 FG00000001 INPAT         54.9 2006-02-16       W01    NA    NA    1     1     #>  4 FG00000001 INPAT         65.7 2016-11-27       E119   NA    NA    37    1     #>  5 FG00000001 INPAT         65.7 2016-11-27       M058   NA    NA    37    1     #>  6 FG00000001 INPAT         41.4 1992-09-02       E883A  NA    NA    1     NA    #>  7 FG00000001 PRIM_OUT      62.3 2013-06-28       SPAT1… NA    NA    NA    R70   #>  8 FG00000001 INPAT         31.4 1982-08-04       68302  NA    NA    0     NA    #>  9 FG00000001 INPAT         31.4 1982-08-04       59010  NA    NA    0     NA    #> 10 FG00000001 INPAT         33.0 1984-03-31       38100  NA    NA    3     NA    #> # ℹ more rows #> # ℹ 7 more variables: code6 <chr>, code7 <chr>, code8 <chr>, code9 <chr>, #> #   icdver <chr>, category <chr>, index <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"adding-info-to-medical-codes","dir":"Articles","previous_headings":"","what":"Adding info to medical codes","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"Function fg_dbplyr_append_code_info_to_longitudinal_data adds new columns information medical code used event/row. just need indicate table traslations. also available FGconnectionHandler object. recommend take one hihgset version number. fg_codes_info_v6 moment writing.","code":"ss_subject_1_with_translations_tbl <- fg_dbplyr_append_code_info_to_longitudinal_data(   ss_subject_1_tbl,    FGconnectionHandler$getTblmedicalCodesSchema$fg_codes_info_v6()   ) ss_subject_1_with_translations_tbl |>     dplyr::select(finngenid, source, approx_event_day, code1, code2, code3, code, name_en, name_fi, omop_concept_id)  #> # Source:   SQL [?? x 10] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid  source   approx_event_day code1  code2 code3 code  name_en name_fi #>    <chr>      <chr>    <date>           <chr>  <chr> <chr> <chr> <chr>   <chr>   #>  1 FG00000001 INPAT    2016-11-27       W79    NA    NA    W79   Inhala… NA      #>  2 FG00000001 INPAT    2006-02-16       W00    NA    NA    W00   Fall o… NA      #>  3 FG00000001 INPAT    2006-02-16       W01    NA    NA    W01   Fall o… NA      #>  4 FG00000001 INPAT    2016-11-27       E119   NA    NA    E11.9 Type 2… NA      #>  5 FG00000001 INPAT    2016-11-27       M058   NA    NA    M05.8 Other … NA      #>  6 FG00000001 INPAT    1992-09-02       E883A  NA    NA    E883A Fall i… KOMPAS… #>  7 FG00000001 PRIM_OUT 2013-06-28       SPAT1… NA    NA    SPAT… Counse… Ravits… #>  8 FG00000001 INPAT    1982-08-04       68302  NA    NA    68302 Acute … Äkilli… #>  9 FG00000001 INPAT    1982-08-04       59010  NA    NA    59010 Infect… Munuai… #> 10 FG00000001 INPAT    1984-03-31       38100  NA    NA    38100 Otitis… Keskik… #> # ℹ more rows #> # ℹ 1 more variable: omop_concept_id <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"if-an-eventrow-uses-more-than-one-medical-code","dir":"Articles","previous_headings":"Adding info to medical codes","what":"If an event/row uses more than one medical code","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"events include one medical code, one way understand medical code. Parameters fg_dbplyr_append_code_info_to_longitudinal_data allows chose name medical code situations. example: PURCH_map_to = “VNR”, tells use VNR code PURCH register, instead default ATC ICD10fi_map_to = “CODE1”, tells use first code ICD10fi, instead default CODE1*CODE2 combination code Se help, options","code":"fg_dbplyr_append_code_info_to_longitudinal_data(   ss_subject_1_tbl,    FGconnectionHandler$getTblmedicalCodesSchema$fg_codes_info_v6(),      PURCH_map_to = \"VNR\",      ICD10fi_map_to = \"CODE1\"    ) |>   filter(vocabulary_id == \"ICD10fi\" | vocabulary_id == \"VNRfi\") |>     dplyr::select(finngenid, source, approx_event_day, code1, code2, vocabulary_id, code, name_en, name_fi, omop_concept_id)  #> # Source:   SQL [?? x 10] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid  source approx_event_day code1   code2 vocabulary_id code   name_en #>    <chr>      <chr>  <date>           <chr>   <chr> <chr>         <chr>  <chr>   #>  1 FG00000001 INPAT  2016-11-27       W79     NA    ICD10fi       W79    Inhala… #>  2 FG00000001 INPAT  2006-02-16       W00     NA    ICD10fi       W00    Fall o… #>  3 FG00000001 INPAT  2006-02-16       W01     NA    ICD10fi       W01    Fall o… #>  4 FG00000001 INPAT  2016-11-27       E119    NA    ICD10fi       E11.9  Type 2… #>  5 FG00000001 INPAT  2016-11-27       M058    NA    ICD10fi       M05.8  Other … #>  6 FG00000001 PURCH  2002-08-17       M01AE01 NA    VNRfi         552190 BURANA… #>  7 FG00000001 PURCH  2002-11-25       C09AA02 NA    VNRfi         498529 ENALAP… #>  8 FG00000001 PURCH  2002-08-08       C08CA01 205   VNRfi         161473 AMLORA… #>  9 FG00000001 PURCH  2003-02-17       C08CA01 NA    VNRfi         588994 AMLODI… #> 10 FG00000001 PURCH  2003-12-23       A01AB09 NA    VNRfi         535203 DAKTAR… #> # ℹ more rows #> # ℹ 2 more variables: name_fi <chr>, omop_concept_id <chr> ?fg_append_code_info_to_longitudinal_data_sql"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"reduce-code-precision","dir":"Articles","previous_headings":"Adding info to medical codes","what":"Reduce code precision","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"ICD10fi, ICD9fi, ICD8fi, ATC, NCSPfi, code systems reflect hierarchy code first letters . possible truncate medical codes information added. practice adds code names parent codes. can see column code truncated code name_en name truncated code.","code":"fg_dbplyr_append_code_info_to_longitudinal_data(   ss_subject_1_tbl,    FGconnectionHandler$getTblmedicalCodesSchema$fg_codes_info_v6(),    ICD10fi_precision = 3,   ICD9fi_precision = 3,   ICD8fi_precision = 3,   ATC_precision = 3,   NCSPfi_precision = 2 )|>   dplyr::select(finngenid, source, approx_event_day, code1, code2, vocabulary_id, code, name_en, name_fi, omop_concept_id)  #> # Source:   SQL [?? x 10] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid  source   approx_event_day code1  code2 vocabulary_id code  name_en #>    <chr>      <chr>    <date>           <chr>  <chr> <chr>         <chr> <chr>   #>  1 FG00000001 INPAT    2016-11-27       W79    NA    ICD10fi       W79   Inhala… #>  2 FG00000001 INPAT    2006-02-16       W00    NA    ICD10fi       W00   Fall o… #>  3 FG00000001 INPAT    2006-02-16       W01    NA    ICD10fi       W01   Fall o… #>  4 FG00000001 INPAT    2016-11-27       E119   NA    ICD10fi       E11   Type 2… #>  5 FG00000001 INPAT    2016-11-27       M058   NA    ICD10fi       M05   Seropo… #>  6 FG00000001 INPAT    1992-09-02       E883A  NA    ICD9fi        NA    NA      #>  7 FG00000001 PRIM_OUT 2013-06-28       SPAT1… NA    SPAT          SPAT… Counse… #>  8 FG00000001 INPAT    1982-08-04       68302  NA    ICD8fi        683   Acute … #>  9 FG00000001 INPAT    1982-08-04       59010  NA    ICD8fi        590   Infect… #> 10 FG00000001 INPAT    1984-03-31       38100  NA    ICD8fi        381   Otitis… #> # ℹ more rows #> # ℹ 2 more variables: name_fi <chr>, omop_concept_id <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"adding-info-to-visit-type","dir":"Articles","previous_headings":"","what":"Adding info to visit type","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"Function fg_dbplyr_append_visit_type_info_to_service_sector_data adds new columns information visit type. service-sector data, information visit type defined CODE5 CODE9 depending SOURCE time period. fg_dbplyr_append_visit_type_info_to_service_sector_data abstracts nuances, assign one visit type code per row. Notice visit may contain one event/row. Events/rows belonging visit share combination SOURCE+INDEX.","code":"fg_dbplyr_append_visit_type_info_to_service_sector_data(   ss_subject_1_tbl,    FGconnectionHandler$getTblmedicalCodesSchema$fg_codes_info_v6()   )|>    dplyr::select(finngenid, source, index, approx_event_day, code5, code6, code8, code9, visit_type_code, visit_type_name_en) #> # Source:   SQL [?? x 10] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid  source   index approx_event_day code5 code6 code8 code9 #>    <chr>      <chr>    <chr> <date>           <chr> <chr> <chr> <chr> #>  1 FG00000001 INPAT    6     2017-03-02       1     30    NA    NA    #>  2 FG00000001 PRIM_OUT 5255  2015-03-30       R10   T60   NA    NA    #>  3 FG00000001 PURCH    7575  2015-02-27       NA    NA    NA    NA    #>  4 FG00000001 PURCH    7591  2017-06-07       NA    NA    NA    NA    #>  5 FG00000001 PURCH    7496  2003-02-17       NA    NA    NA    NA    #>  6 FG00000001 PURCH    7522  2009-11-23       NA    NA    NA    NA    #>  7 FG00000001 PURCH    7533  1998-08-28       NA    NA    NA    NA    #>  8 FG00000001 PURCH    5255  2001-09-15       NA    NA    NA    NA    #>  9 FG00000001 PURCH    7557  2013-11-10       NA    NA    NA    NA    #> 10 FG00000001 PURCH    7511  2007-09-22       NA    NA    NA    NA    #> # ℹ more rows #> # ℹ 2 more variables: visit_type_code <chr>, visit_type_name_en <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_FGconnectionHandler.html","id":"adding-info-to-provider-type","dir":"Articles","previous_headings":"","what":"Adding info to provider type","title":"USING FGconnectionHandler: Adding names to longitudinal and service sector codes","text":"Function fg_dbplyr_append_provider_info_to_service_sector_data adds new columns information personal unit provided diagnose visit. service-sector data, information provider defined CODE6 CODE7 depending SOURCE. fg_dbplyr_append_provider_info_to_service_sector_data abstracts nuances, assign one provider type code per row.","code":"fg_dbplyr_append_provider_info_to_service_sector_data(   ss_subject_1_tbl,    FGconnectionHandler$getTblmedicalCodesSchema$fg_codes_info_v6()   )|>    dplyr::select(finngenid, source, index, approx_event_day, code5, code6, code8, code9, provider_code, provider_name_en, provider_concept_class_id) #> # Source:   SQL [?? x 11] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid source index approx_event_day code5 code6 code8 code9 provider_code #>    <chr>     <chr>  <chr> <date>           <chr> <chr> <chr> <chr> <chr>         #>  1 FG000000… PURCH  2     2015-06-21       NA    NA    NA    NA    NA            #>  2 FG000000… PURCH  3202  2000-04-25       NA    NA    NA    NA    NA            #>  3 FG000000… PURCH  7590  2017-08-30       NA    NA    NA    NA    NA            #>  4 FG000000… PURCH  7549  2012-05-30       NA    NA    NA    NA    NA            #>  5 FG000000… INPAT  5256  1986-03-04       NA    NA    NA    NA    NA            #>  6 FG000000… PURCH  7518  2009-09-24       NA    NA    NA    NA    NA            #>  7 FG000000… PURCH  7537  1999-09-06       NA    NA    NA    NA    NA            #>  8 FG000000… PURCH  7540  2000-03-11       NA    NA    NA    NA    NA            #>  9 FG000000… PURCH  3     2003-12-15       NA    NA    NA    NA    NA            #> 10 FG000000… PURCH  7562  2014-11-07       NA    NA    NA    NA    NA            #> # ℹ more rows #> # ℹ 2 more variables: provider_name_en <chr>, provider_concept_class_id <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"tutorial show append additional information longitudinal service-sector table bigquery using bigrquery package. Information add includes, name medical codes English, name type visit, name type provider.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"set-up","dir":"Articles","previous_headings":"","what":"Set up","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"tutorial developed using dummy data Atlas development project. execute Sandbox, sure change following paths.","code":"library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(bigrquery) library(FinnGenUtilsR)   bigrquery::bq_auth(path = Sys.getenv(\"GCP_SERVICE_KEY\")) project_id <- \"atlas-development-270609\"  test_longitudinal_data_table <- \"atlas-development-270609.sandbox_tools_r10.finngen_r10_service_sector_detailed_longitudinal_v2\" fg_codes_info_table <- \"atlas-development-270609.medical_codes.fg_codes_info_v2\" tmp_schema <- \"sandbox\""},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"generate-a-table-in-service-sector-format","dir":"Articles","previous_headings":"","what":"Generate a table in service sector format","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"example create subset main service sector table querying latest 20 events subject “FG00000001”: can see table currently information medical codes:","code":"sql <- paste(\"SELECT * FROM \", test_longitudinal_data_table, \"WHERE FINNGENID='FG00000001' ORDER BY APPROX_EVENT_DAY DESC LIMIT 20\") event_for_subject_1 <- bq_project_query(project_id, sql) bq_table_download(event_for_subject_1) #> # A tibble: 20 × 16 #>    FINNGENID  SOURCE   EVENT_AGE APPROX_EVENT_DAY CODE1  CODE2 CODE3 CODE4 CODE5 #>    <chr>      <chr>        <dbl> <date>           <chr>  <chr> <chr> <chr> <chr> #>  1 FG00000001 PURCH         66.7 2017-11-27       R01AD… NA    4746… 1     NA    #>  2 FG00000001 PRIM_OUT      66.7 2017-11-19       A28    NA    NA    NA    R10   #>  3 FG00000001 PURCH         66.5 2017-09-23       M01AE… NA    5521… 1     NA    #>  4 FG00000001 INPAT         66.5 2017-09-05       I676   NA    NA    4     1     #>  5 FG00000001 PRIM_OUT      66.5 2017-09-05       A98    NA    NA    NA    R20   #>  6 FG00000001 INPAT         66.5 2017-09-05       X59    NA    NA    4     1     #>  7 FG00000001 PURCH         66.4 2017-08-30       NA     103   NA    1     NA    #>  8 FG00000001 PRIM_OUT      66.4 2017-08-14       SPAT1… NA    NA    NA    R50   #>  9 FG00000001 OPER_OUT      66.4 2017-07-31       TPH00  NA    NA    NA    92    #> 10 FG00000001 PURCH         66.2 2017-06-10       R03BA… 203   4826… 1     NA    #> 11 FG00000001 PURCH         66.2 2017-06-07       N06DA… NA    1986… 1     NA    #> 12 FG00000001 PURCH         66.2 2017-05-30       R01BA… NA    4282… 1     NA    #> 13 FG00000001 PURCH         66.1 2017-05-08       R03BA… 203   5933… 2     NA    #> 14 FG00000001 PURCH         66.0 2017-03-18       R03BB… 203   0216… 2     NA    #> 15 FG00000001 PURCH         66.0 2017-03-12       H03AA… NA    1931… 1     NA    #> 16 FG00000001 PURCH         66.0 2017-03-08       C10AA… NA    0036… 1     NA    #> 17 FG00000001 PURCH         66.0 2017-03-06       M01AH… NA    0112… 1     NA    #> 18 FG00000001 INPAT         66.0 2017-03-02       W00    NA    NA    0     1     #> 19 FG00000001 INPAT         66.0 2017-03-02       K409   NA    NA    0     1     #> 20 FG00000001 PURCH         65.9 2017-02-02       C09DA… 205   0096… 1     NA    #> # ℹ 7 more variables: CODE6 <chr>, CODE7 <chr>, CODE8 <chr>, CODE9 <chr>, #> #   ICDVER <chr>, CATEGORY <chr>, INDEX <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"adding-info-to-medical-codes","dir":"Articles","previous_headings":"","what":"Adding info to medical codes","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"Function fg_bq_append_code_info_to_longitudinal_data adds new columns information medical code used event/row. example: code, original code; name_en, name code English; name_fi name code Finnish; omop_concept_id, find additional info Atlas.","code":"event_for_subject_1_with_translations <- fg_bq_append_code_info_to_longitudinal_data(   project_id, event_for_subject_1, fg_codes_info_table) bq_table_download(event_for_subject_1_with_translations) |>     dplyr::select(FINNGENID, SOURCE, APPROX_EVENT_DAY, CODE1, CODE2, CODE3, code, name_en, name_fi, omop_concept_id)  #> # A tibble: 20 × 10 #>    FINNGENID  SOURCE   APPROX_EVENT_DAY CODE1  CODE2 CODE3 code  name_en name_fi #>    <chr>      <chr>    <date>           <chr>  <chr> <chr> <chr> <chr>   <chr>   #>  1 FG00000001 PURCH    2017-11-27       R01AD… NA    4746… R01A… mometa… NA      #>  2 FG00000001 PRIM_OUT 2017-11-19       A28    NA    NA    A28   Limite… Toimin… #>  3 FG00000001 PURCH    2017-09-23       M01AE… NA    5521… M01A… ibupro… NA      #>  4 FG00000001 INPAT    2017-09-05       I676   NA    NA    I67.6 Nonpyo… NA      #>  5 FG00000001 PRIM_OUT 2017-09-05       A98    NA    NA    A98   Health… Tervey… #>  6 FG00000001 INPAT    2017-09-05       X59    NA    NA    X59   Exposu… NA      #>  7 FG00000001 PURCH    2017-08-30       NA     103   NA    NA    NA      NA      #>  8 FG00000001 PRIM_OUT 2017-08-14       SPAT1… NA    NA    SPAT… Memory… Muisti… #>  9 FG00000001 OPER_OUT 2017-07-31       TPH00  NA    NA    TPH00 Phlebo… Laskim… #> 10 FG00000001 PURCH    2017-06-10       R03BA… 203   4826… R03B… budeso… NA      #> 11 FG00000001 PURCH    2017-06-07       N06DA… NA    1986… N06D… donepe… NA      #> 12 FG00000001 PURCH    2017-05-30       R01BA… NA    4282… R01B… phenyl… NA      #> 13 FG00000001 PURCH    2017-05-08       R03BA… 203   5933… R03B… beclom… NA      #> 14 FG00000001 PURCH    2017-03-18       R03BB… 203   0216… R03B… tiotro… NA      #> 15 FG00000001 PURCH    2017-03-12       H03AA… NA    1931… H03A… levoth… NA      #> 16 FG00000001 PURCH    2017-03-08       C10AA… NA    0036… C10A… simvas… NA      #> 17 FG00000001 PURCH    2017-03-06       M01AH… NA    0112… M01A… etoric… NA      #> 18 FG00000001 INPAT    2017-03-02       W00    NA    NA    W00   Fall o… NA      #> 19 FG00000001 INPAT    2017-03-02       K409   NA    NA    K40.9 Unilat… NA      #> 20 FG00000001 PURCH    2017-02-02       C09DA… 205   0096… C09D… candes… NA      #> # ℹ 1 more variable: omop_concept_id <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"if-an-eventrow-uses-more-than-one-medical-code","dir":"Articles","previous_headings":"Adding info to medical codes","what":"If an event/row uses more than one medical code","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"events include one medical code, one way understand medical code. Parameters fg_bq_append_code_info_to_longitudinal_data allows chose name medical code situations. example: PURCH_map_to = “VNR”, tells use VNR code PURCH register, instead default ATC ICD10fi_map_to = “CODE1”, tells use first code ICD10fi, instead default CODE1*CODE2 combination code Se help, options","code":"event_for_subject_1_with_translations <- fg_bq_append_code_info_to_longitudinal_data(   project_id, event_for_subject_1, fg_codes_info_table,      PURCH_map_to = \"VNR\",      ICD10fi_map_to = \"CODE1\" ) one_patient_long_data <- bq_table_download(event_for_subject_1_with_translations) bq_table_download(event_for_subject_1_with_translations) |>     dplyr::select(FINNGENID, SOURCE, APPROX_EVENT_DAY, CODE1, CODE2, CODE3, code, name_en, name_fi, omop_concept_id)  #> # A tibble: 20 × 10 #>    FINNGENID  SOURCE   APPROX_EVENT_DAY CODE1  CODE2 CODE3 code  name_en name_fi #>    <chr>      <chr>    <date>           <chr>  <chr> <chr> <chr> <chr>   <chr>   #>  1 FG00000001 PURCH    2017-11-27       R01AD… NA    4746… 4746… NASONE… NA      #>  2 FG00000001 PRIM_OUT 2017-11-19       A28    NA    NA    A28   Limite… Toimin… #>  3 FG00000001 PURCH    2017-09-23       M01AE… NA    5521… 5521… BURANA… NA      #>  4 FG00000001 INPAT    2017-09-05       I676   NA    NA    I67.6 Nonpyo… NA      #>  5 FG00000001 PRIM_OUT 2017-09-05       A98    NA    NA    A98   Health… Tervey… #>  6 FG00000001 INPAT    2017-09-05       X59    NA    NA    X59   Exposu… NA      #>  7 FG00000001 PURCH    2017-08-30       NA     103   NA    NA    NA      NA      #>  8 FG00000001 PRIM_OUT 2017-08-14       SPAT1… NA    NA    SPAT… Memory… Muisti… #>  9 FG00000001 OPER_OUT 2017-07-31       TPH00  NA    NA    TPH00 Phlebo… Laskim… #> 10 FG00000001 PURCH    2017-06-10       R03BA… 203   4826… 4826… PULMIC… NA      #> 11 FG00000001 PURCH    2017-06-07       N06DA… NA    1986… NA    NA      NA      #> 12 FG00000001 PURCH    2017-05-30       R01BA… NA    4282… 4282… LUNERI… NA      #> 13 FG00000001 PURCH    2017-05-08       R03BA… 203   5933… 5933… BECLOM… NA      #> 14 FG00000001 PURCH    2017-03-18       R03BB… 203   0216… 0216… SPIRIV… NA      #> 15 FG00000001 PURCH    2017-03-12       H03AA… NA    1931… 1931… THYROX… NA      #> 16 FG00000001 PURCH    2017-03-08       C10AA… NA    0036… 0036… LIPCUT… NA      #> 17 FG00000001 PURCH    2017-03-06       M01AH… NA    0112… 0112… ARCOXI… NA      #> 18 FG00000001 INPAT    2017-03-02       W00    NA    NA    W00   Fall o… NA      #> 19 FG00000001 INPAT    2017-03-02       K409   NA    NA    K40.9 Unilat… NA      #> 20 FG00000001 PURCH    2017-02-02       C09DA… 205   0096… 0096… ATACAN… NA      #> # ℹ 1 more variable: omop_concept_id <chr> ?fg_append_code_info_to_longitudinal_data_sql"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"reduce-code-precision","dir":"Articles","previous_headings":"Adding info to medical codes","what":"Reduce code precision","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"ICD10fi, ICD9fi, ICD8fi, ATC, NCSPfi, code systems reflect hierarchy code first letters . possible truncate medical codes information added. practice adds code names parent codes. can see column code trucated code name_en name trucated code.","code":"event_for_subject_1_with_translations <- fg_bq_append_code_info_to_longitudinal_data(   project_id, event_for_subject_1, fg_codes_info_table,    ICD10fi_precision = 3,   ICD9fi_precision = 3,   ICD8fi_precision = 3,   ATC_precision = 3,   NCSPfi_precision = 2 ) bq_table_download(event_for_subject_1_with_translations) |>     dplyr::select(FINNGENID, SOURCE, APPROX_EVENT_DAY, CODE1, CODE2, CODE3, code, name_en, name_fi, omop_concept_id)  #> # A tibble: 20 × 10 #>    FINNGENID  SOURCE   APPROX_EVENT_DAY CODE1  CODE2 CODE3 code  name_en name_fi #>    <chr>      <chr>    <date>           <chr>  <chr> <chr> <chr> <chr>   <chr>   #>  1 FG00000001 PURCH    2017-11-27       R01AD… NA    4746… R01   NASAL … NA      #>  2 FG00000001 PRIM_OUT 2017-11-19       A28    NA    NA    A28   Limite… Toimin… #>  3 FG00000001 PURCH    2017-09-23       M01AE… NA    5521… M01   ANTIIN… NA      #>  4 FG00000001 INPAT    2017-09-05       I676   NA    NA    I67   Other … NA      #>  5 FG00000001 PRIM_OUT 2017-09-05       A98    NA    NA    A98   Health… Tervey… #>  6 FG00000001 INPAT    2017-09-05       X59    NA    NA    X59   Exposu… NA      #>  7 FG00000001 PURCH    2017-08-30       NA     103   NA    NA    NA      NA      #>  8 FG00000001 PRIM_OUT 2017-08-14       SPAT1… NA    NA    SPAT… Memory… Muisti… #>  9 FG00000001 OPER_OUT 2017-07-31       TPH00  NA    NA    NA    NA      NA      #> 10 FG00000001 PURCH    2017-06-10       R03BA… 203   4826… R03   DRUGS … NA      #> 11 FG00000001 PURCH    2017-06-07       N06DA… NA    1986… N06   PSYCHO… NA      #> 12 FG00000001 PURCH    2017-05-30       R01BA… NA    4282… R01   NASAL … NA      #> 13 FG00000001 PURCH    2017-05-08       R03BA… 203   5933… R03   DRUGS … NA      #> 14 FG00000001 PURCH    2017-03-18       R03BB… 203   0216… R03   DRUGS … NA      #> 15 FG00000001 PURCH    2017-03-12       H03AA… NA    1931… H03   THYROI… NA      #> 16 FG00000001 PURCH    2017-03-08       C10AA… NA    0036… C10   LIPID … NA      #> 17 FG00000001 PURCH    2017-03-06       M01AH… NA    0112… M01   ANTIIN… NA      #> 18 FG00000001 INPAT    2017-03-02       W00    NA    NA    W00   Fall o… NA      #> 19 FG00000001 INPAT    2017-03-02       K409   NA    NA    K40   Inguin… NA      #> 20 FG00000001 PURCH    2017-02-02       C09DA… 205   0096… C09   AGENTS… NA      #> # ℹ 1 more variable: omop_concept_id <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"adding-info-to-visit-type","dir":"Articles","previous_headings":"","what":"Adding info to visit type","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"Function fg_bq_append_visit_type_info_to_service_sector_data adds new columns information visit type. service-sector data, information visit type defined CODE5 CODE9 depending SOURCE time period. fg_bq_append_visit_type_info_to_service_sector_data abstracts nuances, assign one visit type code per row. Notice visit may contain one event/row. Events/rows belonging visit share combination SOURCE+INDEX.","code":"event_for_subject_1_with_visit_type <- fg_bq_append_visit_type_info_to_service_sector_data(   project_id, event_for_subject_1, fg_codes_info_table   ) bigrquery::bq_table_download(event_for_subject_1_with_visit_type) |>    dplyr::select(FINNGENID, SOURCE, INDEX, APPROX_EVENT_DAY, CODE5, CODE6, CODE8, CODE9, visit_type_code, visit_type_name_en) #> # A tibble: 20 × 10 #>    FINNGENID  SOURCE   INDEX APPROX_EVENT_DAY CODE5 CODE6 CODE8 CODE9 #>    <chr>      <chr>    <chr> <date>           <chr> <chr> <chr> <chr> #>  1 FG00000001 PURCH    7585  2017-11-27       NA    NA    NA    NA    #>  2 FG00000001 PURCH    7591  2017-06-07       NA    NA    NA    NA    #>  3 FG00000001 PURCH    7583  2017-09-23       NA    NA    NA    NA    #>  4 FG00000001 PURCH    7589  2017-02-02       NA    NA    NA    NA    #>  5 FG00000001 PURCH    7584  2017-03-12       NA    NA    NA    NA    #>  6 FG00000001 PURCH    3201  2017-03-06       NA    NA    NA    NA    #>  7 FG00000001 PURCH    7592  2017-03-08       NA    NA    NA    NA    #>  8 FG00000001 PURCH    7587  2017-05-30       NA    NA    NA    NA    #>  9 FG00000001 PURCH    7588  2017-06-10       NA    NA    NA    NA    #> 10 FG00000001 PURCH    7590  2017-08-30       NA    NA    NA    NA    #> 11 FG00000001 PURCH    7593  2017-03-18       NA    NA    NA    NA    #> 12 FG00000001 PURCH    7586  2017-05-08       NA    NA    NA    NA    #> 13 FG00000001 PRIM_OUT 5256  2017-08-14       R50   T11   NA    NA    #> 14 FG00000001 PRIM_OUT 3203  2017-09-05       R20   T42   NA    NA    #> 15 FG00000001 PRIM_OUT 7     2017-11-19       R10   T11   NA    NA    #> 16 FG00000001 INPAT    5     2017-09-05       1     20G   NA    NA    #> 17 FG00000001 INPAT    5     2017-09-05       1     20G   NA    NA    #> 18 FG00000001 INPAT    6     2017-03-02       1     30    NA    NA    #> 19 FG00000001 INPAT    6     2017-03-02       1     30    NA    NA    #> 20 FG00000001 OPER_OUT 6     2017-07-31       92    77    NA    NA    #> # ℹ 2 more variables: visit_type_code <chr>, visit_type_name_en <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_add_info_bigrquery.html","id":"adding-info-to-provider-type","dir":"Articles","previous_headings":"","what":"Adding info to provider type","title":"USING BIGRQUERY PACKAGE: Adding names to longitudinal and service sector codes","text":"Function fg_bq_append_provider_info_to_service_sector_data adds new columns information personal unit provided diagnose visit. service-sector data, information provider defined CODE6 CODE7 depending SOURCE. fg_bq_append_visit_type_info_to_service_sector_data abstracts nuances, assign one provider type code per row.","code":"event_for_subject_1_with_provider <- fg_bq_append_provider_info_to_service_sector_data(   project_id, event_for_subject_1, fg_codes_info_table   ) bigrquery::bq_table_download(event_for_subject_1_with_provider) |>    dplyr::select(FINNGENID, SOURCE, INDEX, APPROX_EVENT_DAY, CODE5, CODE6, CODE8, CODE9, provider_code, provider_name_en, provider_concept_class_id) #> # A tibble: 20 × 11 #>    FINNGENID SOURCE INDEX APPROX_EVENT_DAY CODE5 CODE6 CODE8 CODE9 provider_code #>    <chr>     <chr>  <chr> <date>           <chr> <chr> <chr> <chr> <chr>         #>  1 FG000000… PURCH  7585  2017-11-27       NA    NA    NA    NA    NA            #>  2 FG000000… PURCH  7591  2017-06-07       NA    NA    NA    NA    NA            #>  3 FG000000… PURCH  7583  2017-09-23       NA    NA    NA    NA    NA            #>  4 FG000000… PURCH  7586  2017-05-08       NA    NA    NA    NA    NA            #>  5 FG000000… PURCH  7587  2017-05-30       NA    NA    NA    NA    NA            #>  6 FG000000… PURCH  7589  2017-02-02       NA    NA    NA    NA    NA            #>  7 FG000000… PURCH  3201  2017-03-06       NA    NA    NA    NA    NA            #>  8 FG000000… PURCH  7588  2017-06-10       NA    NA    NA    NA    NA            #>  9 FG000000… PURCH  7590  2017-08-30       NA    NA    NA    NA    NA            #> 10 FG000000… PURCH  7593  2017-03-18       NA    NA    NA    NA    NA            #> 11 FG000000… PURCH  7584  2017-03-12       NA    NA    NA    NA    NA            #> 12 FG000000… PURCH  7592  2017-03-08       NA    NA    NA    NA    NA            #> 13 FG000000… PRIM_… 5256  2017-08-14       R50   T11   NA    NA    32311         #> 14 FG000000… PRIM_… 7     2017-11-19       R10   T11   NA    NA    32311         #> 15 FG000000… INPAT  6     2017-03-02       1     30    NA    NA    30            #> 16 FG000000… INPAT  6     2017-03-02       1     30    NA    NA    30            #> 17 FG000000… INPAT  5     2017-09-05       1     20G   NA    NA    20G           #> 18 FG000000… INPAT  5     2017-09-05       1     20G   NA    NA    20G           #> 19 FG000000… PRIM_… 3203  2017-09-05       R20   T42   NA    NA    51321         #> 20 FG000000… OPER_… 6     2017-07-31       92    77    NA    NA    77            #> # ℹ 2 more variables: provider_name_en <chr>, provider_concept_class_id <chr>"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_connection_handler.html","id":"configuration","dir":"Articles","previous_headings":"","what":"Configuration","title":"Tutorial connection to FinnGen BQ tables using FGconnectionHandler","text":"Similarly fg_get_cdm_config (see vignette), can use fg_get_bq_config produce connection configuration based sandbox number, dataFreeze want use. environment: can find sandbox number looking url browser connected sandbox.  dataFreezeNumber: time writing dataFreeze can 6, 7, 8, 9, 10, 11, dataFreeze.","code":"config <- fg_get_bq_config(    environment = \"sandbox-6\",    dataFreezeNumber = 11    ) #> Set option sqlRenderTempEmulationSchema = 'fg-production-sandbox-6.sandbox'"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_connection_handler.html","id":"create-fgconnectionhandler-object","dir":"Articles","previous_headings":"","what":"Create FGconnectionHandler object","title":"Tutorial connection to FinnGen BQ tables using FGconnectionHandler","text":"convenience one can use function create_fg_connection_handler_FromList generate FGconnectionHandler object connection configuration fg_get_bq_config. FGconnectionHandler object manage connection FinnGen tables BQ. First thing check status connection. FGdb$connectionStatusLog shows connection correct, also tempEmulationSchema works, tables sandboxToolsSchema medicalCodesSchema schemas, checks connection established, possible create temporary tables, gets list tables sandboxToolsSchema medicalCodesSchema schemas.","code":"FGconnectionHandler <- create_fg_connection_handler_FromList(config) #> Connecting using BigQuery driver #> Created a temporary table named #cars #> Inserting data took 0.0106 secs #> Dropping tables 'fxo3dz5ucars' from schema 'atlas-development-270609.sandbox'. #>   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100% #> Executing SQL took 2.65 secs FGconnectionHandler$connectionStatusLog #> # A tibble: 4 × 4 #>   databaseName     type    step                          message                 #>   <chr>            <fct>   <chr>                         <chr>                   #> 1 atlasDevelopment SUCCESS Check database connection     Valid connection        #> 2 atlasDevelopment SUCCESS Check temp table creation     can create temp tables  #> 3 atlasDevelopment SUCCESS sandboxToolsSchema connection Connected to tables: b… #> 4 atlasDevelopment SUCCESS medicalCodesSchema connection Connected to tables: f…"},{"path":"https://finngen.github.io/FinnGenUtilsR/articles/tutorial_connection_handler.html","id":"using-fgconnectionhandler","dir":"Articles","previous_headings":"","what":"Using FGconnectionHandler","title":"Tutorial connection to FinnGen BQ tables using FGconnectionHandler","text":"FGdb$connectionStatusLog contains list existing table sandboxToolsSchema medicalCodesSchema schemas. recomended use latests version tables. Tables sandboxToolsSchema andmedicalCodesSchema can used tibbles thanks dbplyr. moment writing allow use str_detect work around inject sql statement instead (notice SQL based BQ, SqlRender dialect based mostly MSsqlServer) example can plot age smoking status subjects asthma diagnose: get asthma subjects filtering service sector data, join finngen_info data get smoke2, smoke3","code":"FGconnectionHandler$getTblsandboxToolsSchema |> names() #> [1] \"birth_mother_r11_v1\"                                 #> [2] \"code_counts_r11_v1\"                                  #> [3] \"code_prevalence_stratified_v1\"                       #> [4] \"code_prevalence_stratified_v2\"                       #> [5] \"code_prevalence_stratified_v3\"                       #> [6] \"endpoint_cohorts_r11_v1\"                             #> [7] \"finngen_r11_service_sector_detailed_longitudinal_v1\" #> [8] \"finngenid_info_r11_v1\"                               #> [9] \"vision_r11_v1\" # get events with code \"J45\" in INPAT FGconnectionHandler$getTblsandboxToolsSchema$finngen_r11_service_sector_detailed_longitudinal_v1() |>    dplyr::filter(code1 == \"J45\" & source == \"INPAT\") #> Note: method with signature 'DBIConnection#SQL' chosen for function 'dbQuoteIdentifier', #>  target signature 'DatabaseConnectorJdbcConnection#SQL'. #>  \"DatabaseConnectorConnection#character\" would also be valid #> # Source:   SQL [6 x 16] #> # Database: DatabaseConnectorJdbcConnection #>   finngenid  source event_age approx_event_day code1 code2 code3 code4 code5 #>   <chr>      <chr>      <dbl> <date>           <chr> <chr> <chr> <chr> <chr> #> 1 FG00000223 INPAT       58.4 2002-03-19       J45   NA    NA    19    1     #> 2 FG00000971 INPAT       61.5 1997-03-19       J45   NA    NA    1     1     #> 3 FG00001942 INPAT       29.5 2012-12-16       J45   NA    NA    9     1     #> 4 FG00003697 INPAT       68.7 2008-06-30       J45   NA    NA    4     1     #> 5 FG00004237 INPAT       32.1 2002-10-04       J45   NA    NA    6     1     #> 6 FG00004874 INPAT       70.4 2015-01-31       J45   NA    NA    49    1     #> # ℹ 7 more variables: code6 <chr>, code7 <chr>, code8 <chr>, code9 <chr>, #> #   icdver <chr>, category <chr>, index <chr> # get events with code \"J45\" and descendants FGconnectionHandler$getTblsandboxToolsSchema$finngen_r11_service_sector_detailed_longitudinal_v1() |>    dplyr::filter(stringr::str_detect(code1, \"^J45\")) #> Error in `stringr::str_detect()`: #> ! Only fixed patterns are supported on database backends. # get events with code \"J45\" and descendants FGconnectionHandler$getTblsandboxToolsSchema$finngen_r11_service_sector_detailed_longitudinal_v1() |>    dplyr::filter(dplyr::sql(\"code1 LIKE 'J45%'\")) #> # Source:   SQL [?? x 16] #> # Database: DatabaseConnectorJdbcConnection #>    finngenid  source event_age approx_event_day code1 code2 code3 code4 code5 #>    <chr>      <chr>      <dbl> <date>           <chr> <chr> <chr> <chr> <chr> #>  1 FG00000106 INPAT       42.3 2004-12-17       J450  NA    NA    13    6     #>  2 FG00000144 INPAT       36.5 2013-09-09       J459  NA    NA    1     1     #>  3 FG00000223 INPAT       58.4 2002-03-19       J45   NA    NA    19    1     #>  4 FG00000266 INPAT       20.3 2012-08-15       J459  NA    NA    39    1     #>  5 FG00000317 INPAT       48.5 2008-02-08       J451  NA    NA    29    1     #>  6 FG00000507 INPAT       42.2 2018-01-01       J451  NA    NA    0     1     #>  7 FG00000515 INPAT       70.3 2014-11-01       J459  NA    NA    25    1     #>  8 FG00000591 INPAT       72.1 2014-12-07       J451  NA    NA    35    1     #>  9 FG00000631 INPAT       39.2 1997-04-23       J459  NA    NA    2     1     #> 10 FG00000635 INPAT       62.8 2003-08-09       J450  NA    NA    37    1     #> # ℹ more rows #> # ℹ 7 more variables: code6 <chr>, code7 <chr>, code8 <chr>, code9 <chr>, #> #   icdver <chr>, category <chr>, index <chr> FGconnectionHandler$getTblsandboxToolsSchema$finngen_r11_service_sector_detailed_longitudinal_v1() |>    dplyr::filter(dplyr::sql(\"code1 LIKE 'J45%'\"))|>    dplyr::distinct(finngenid) |>    dplyr::left_join(     FGconnectionHandler$getTblsandboxToolsSchema$finngenid_info_r11_v1(),      by = \"finngenid\"   ) |>    dplyr::count(smoke2, smoke3, sort = T) #> # Source:     SQL [?? x 3] #> # Database:   DatabaseConnectorJdbcConnection #> # Ordered by: desc(n) #>    smoke2 smoke3      n #>    <chr>  <chr>   <dbl> #>  1 no     NA        417 #>  2 NA     NA        383 #>  3 no     never     281 #>  4 NA     never     237 #>  5 no     current   166 #>  6 yes    NA        157 #>  7 no     former    154 #>  8 NA     current   140 #>  9 yes    never     133 #> 10 NA     former    118 #> # ℹ more rows"},{"path":"https://finngen.github.io/FinnGenUtilsR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Javier Gracia-Tabuenca. Author, maintainer.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gracia-Tabuenca J (2024). FinnGenUtilsR: FinnGenUtilsR. R package version 3.0.0, https://finngen.github.io/FinnGenUtilsR/.","code":"@Manual{,   title = {FinnGenUtilsR: FinnGenUtilsR},   author = {Javier Gracia-Tabuenca},   year = {2024},   note = {R package version 3.0.0},   url = {https://finngen.github.io/FinnGenUtilsR/}, }"},{"path":"https://finngen.github.io/FinnGenUtilsR/index.html","id":"finngenutilsr","dir":"","previous_headings":"","what":"FinnGenUtilsR","title":"FinnGenUtilsR","text":"R package common functions work FinnGen data inside Sandbox (FinnGen’s secure environment).","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"FinnGenUtilsR","text":"package available local CRAN FinnGen Sandbox. can installed package R:","code":"install.packages(\"FinnGenUtilsR\")"},{"path":"https://finngen.github.io/FinnGenUtilsR/index.html","id":"functionality","dir":"","previous_headings":"","what":"Functionality","title":"FinnGenUtilsR","text":"Easy calculation connection parameters connect FinnGen BigQuery databases object FGconnectionHandler connect FinnGen BigQuery databases work tables dataframes Working Bigrquery Working dbplyr","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"FinnGenUtilsR","text":"See vignettes articles github-page","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":null,"dir":"Reference","previous_headings":"","what":"LogTibble — LogTibble","title":"LogTibble — LogTibble","text":"Class managing log messages tibble.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"LogTibble — LogTibble","text":"logTibble get tibble","code":""},{"path":[]},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"LogTibble — LogTibble","text":"LogTibble$new() LogTibble$addLog() LogTibble$INFO() LogTibble$WARNING() LogTibble$ERROR() LogTibble$SUCCESS() LogTibble$print() LogTibble$clone()","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"LogTibble — LogTibble","text":"Initializes new LogTibble object. addLog","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$new()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-addlog-","dir":"Reference","previous_headings":"","what":"Method addLog()","title":"LogTibble — LogTibble","text":"Adds log message log tibble.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$addLog(type, step, message, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"LogTibble — LogTibble","text":"type Type log message (\"INFO\", \"WARNING\", \"ERROR\", \"SUCCESS\") step Step description associated log message message Log message content ... Additional parameters message formatting INFO","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-info-","dir":"Reference","previous_headings":"","what":"Method INFO()","title":"LogTibble — LogTibble","text":"Adds informational log message log tibble.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$INFO(step, message, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"LogTibble — LogTibble","text":"step Step description associated log message message Log message content ... Additional parameters message formatting WARNING","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-warning-","dir":"Reference","previous_headings":"","what":"Method WARNING()","title":"LogTibble — LogTibble","text":"Adds warning log message log tibble.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$WARNING(step, message, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"LogTibble — LogTibble","text":"step Step description associated log message message Log message content ... Additional parameters message formatting ERROR","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-error-","dir":"Reference","previous_headings":"","what":"Method ERROR()","title":"LogTibble — LogTibble","text":"Adds error log message log tibble.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$ERROR(step, message, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"LogTibble — LogTibble","text":"step Step description associated log message message Log message content ... Additional parameters message formatting SUCCESS","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-success-","dir":"Reference","previous_headings":"","what":"Method SUCCESS()","title":"LogTibble — LogTibble","text":"Adds error log message log tibble.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$SUCCESS(step, message, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"LogTibble — LogTibble","text":"step Step description associated log message message Log message content ... Additional parameters message formatting print","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"LogTibble — LogTibble","text":"prints log.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$print()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"LogTibble — LogTibble","text":"objects class cloneable method.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"LogTibble — LogTibble","text":"","code":"LogTibble$clone(deep = FALSE)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/LogTibble.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"LogTibble — LogTibble","text":"deep Whether make deep clone.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":null,"dir":"Reference","previous_headings":"","what":"ConnectionHandler — ResultModelManager_ConnectionHandler","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Class handling DatabaseConnector:connection objects consistent R6 interfaces pooled non-pooled connections. Allows connection cleanly opened closed stored within class/object variables","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"DatabaseConnector Connection instance close Connection boolean TRUE connection valid queryDb boolean TRUE connection valid executeSql","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"connectionDetails DatabaseConnector connectionDetails object con DatabaseConnector connection object isActive connection active #' snakeCaseToCamelCase (Optional) Boolean. return results columns camel case (default)","code":""},{"path":[]},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"ResultModelManager_ConnectionHandler$new() ResultModelManager_ConnectionHandler$dbms() ResultModelManager_ConnectionHandler$tbl() ResultModelManager_ConnectionHandler$renderTranslateSql() ResultModelManager_ConnectionHandler$initConnection() ResultModelManager_ConnectionHandler$getConnection() ResultModelManager_ConnectionHandler$closeConnection() ResultModelManager_ConnectionHandler$finalize() ResultModelManager_ConnectionHandler$dbIsValid() ResultModelManager_ConnectionHandler$queryDb() ResultModelManager_ConnectionHandler$executeSql() ResultModelManager_ConnectionHandler$queryFunction() ResultModelManager_ConnectionHandler$executeFunction() ResultModelManager_ConnectionHandler$clone()","code":""},{"path":[]},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$new(   connectionDetails,   loadConnection = TRUE,   snakeCaseToCamelCase = TRUE )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"connectionDetails DatabaseConnector::connectionDetails class loadConnection Boolean option load connection right away snakeCaseToCamelCase (Optional) Boolean. return results columns camel case (default) get dbms","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-dbms-","dir":"Reference","previous_headings":"","what":"Method dbms()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Get dbms type connection get table","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$dbms()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-tbl-","dir":"Reference","previous_headings":"","what":"Method tbl()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"get dplyr table object (.e. lazy loaded)","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$tbl(table, databaseSchema = NULL)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"table table name databaseSchema databaseSchema table belongs Render Translate Sql.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-rendertranslatesql-","dir":"Reference","previous_headings":"","what":"Method renderTranslateSql()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Masked call SqlRender","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$renderTranslateSql(sql, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"sql Sql query string ... Elipsis initConnection","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-initconnection-","dir":"Reference","previous_headings":"","what":"Method initConnection()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Load connection Get Connection","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$initConnection()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-getconnection-","dir":"Reference","previous_headings":"","what":"Method getConnection()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Returns connection use standard DatabaseConnector calls. Connects automatically yet loaded","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$getConnection()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-closeconnection-","dir":"Reference","previous_headings":"","what":"Method closeConnection()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Closes connection (active) close Connection","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$closeConnection()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-finalize-","dir":"Reference","previous_headings":"","what":"Method finalize()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Closes connection (active) db Valid","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$finalize()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-dbisvalid-","dir":"Reference","previous_headings":"","what":"Method dbIsValid()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"Masks call DBI::dbIsValid. Returns False connection NULL","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$dbIsValid()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-querydb-","dir":"Reference","previous_headings":"","what":"Method queryDb()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"query database return resulting data.frame environment variable LIMIT_ROW_COUNT set Returned rows limited value (default) Limit row count intended web applications may cause denial service consume many resources.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$queryDb(   sql,   snakeCaseToCamelCase = self$snakeCaseToCamelCase,   overrideRowLimit = FALSE,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"sql sql query string snakeCaseToCamelCase (Optional) Boolean. return results columns camel case (default) overrideRowLimit (Optional) Boolean. cases, row limit enforced system may wish ignore . ... Additional query parameters","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-executesql-","dir":"Reference","previous_headings":"","what":"Method executeSql()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"execute set database queries","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$executeSql(sql, ...)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"sql sql query string ... Additional query parameters query Function","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-queryfunction-","dir":"Reference","previous_headings":"","what":"Method queryFunction()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"queryFunction can overriden subclasses (e.g. use different base function intercept query) translate render sql.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$queryFunction(   sql,   snakeCaseToCamelCase = self$snakeCaseToCamelCase )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"sql sql query string snakeCaseToCamelCase (Optional) Boolean. return results columns camel case (default) execute Function","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-executefunction-","dir":"Reference","previous_headings":"","what":"Method executeFunction()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"exec query Function can overriden subclasses (e.g. use different base function intercept query) translate render sql.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$executeFunction(sql)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"sql sql query string","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"objects class cloneable method.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"","code":"ResultModelManager_ConnectionHandler$clone(deep = FALSE)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_ConnectionHandler.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"ConnectionHandler — ResultModelManager_ConnectionHandler","text":"deep Whether make deep clone.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_createConnectionHandler.html","id":null,"dir":"Reference","previous_headings":"","what":"createConnectionHandler — ResultModelManager_createConnectionHandler","title":"createConnectionHandler — ResultModelManager_createConnectionHandler","text":"Creates connection handler object based provided connection details settings.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_createConnectionHandler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"createConnectionHandler — ResultModelManager_createConnectionHandler","text":"","code":"ResultModelManager_createConnectionHandler(   connectionDetailsSettings,   tempEmulationSchema = NULL,   useBigrqueryUpload = NULL,   usePooledConnection = FALSE,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_createConnectionHandler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"createConnectionHandler — ResultModelManager_createConnectionHandler","text":"connectionDetailsSettings list connection details settings pass directly DatabaseConnector::createConnectionDetails. tempEmulationSchema temporary emulation schema (optional). useBigrqueryUpload Logical indicating whether use fast table upload bigquery (default FALSE) usePooledConnection Logical indicating whether use pooled connection (default FALSE). ... Additional arguments passed connection handler object.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/ResultModelManager_createConnectionHandler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"createConnectionHandler — ResultModelManager_createConnectionHandler","text":"connection handler object.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/create_fg_connection_handler_FromList.html","id":null,"dir":"Reference","previous_headings":"","what":"createfg_connection_handlerFromList — create_fg_connection_handler_FromList","title":"createfg_connection_handlerFromList — create_fg_connection_handler_FromList","text":"function create fg_connection_handler object list configuration settings.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/create_fg_connection_handler_FromList.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"createfg_connection_handlerFromList — create_fg_connection_handler_FromList","text":"","code":"create_fg_connection_handler_FromList(config)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/create_fg_connection_handler_FromList.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"createfg_connection_handlerFromList — create_fg_connection_handler_FromList","text":"config list containing configuration settings fg_connection_handler. databaseName: name database. connection: list connection details settings. cdm: list CDM database schema settings. cohortTable: name cohort table.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/create_fg_connection_handler_FromList.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"createfg_connection_handlerFromList — create_fg_connection_handler_FromList","text":"fg_connection_handler object.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_code_info_to_longitudinal_data_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_append_code_info_to_longitudinal_data_sql — fg_append_code_info_to_longitudinal_data_sql","title":"fg_append_code_info_to_longitudinal_data_sql — fg_append_code_info_to_longitudinal_data_sql","text":"fg_append_code_info_to_longitudinal_data_sql","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_code_info_to_longitudinal_data_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_append_code_info_to_longitudinal_data_sql — fg_append_code_info_to_longitudinal_data_sql","text":"","code":"fg_append_code_info_to_longitudinal_data_sql(   longitudinal_data_table,   fg_codes_info_table,   ICD10fi_map_to = \"CODE1_CODE2\",   PURCH_map_to = \"ATC\",   CANC_map_to = \"MORPO_BEH_TOPO\",   REIMB_map_to = \"REIMB\",   ICD10fi_precision = 5,   ICD9fi_precision = 5,   ICD8fi_precision = 5,   ATC_precision = 7,   NCSPfi_precision = 5,   new_colums_sufix = \"\" )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_code_info_to_longitudinal_data_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_append_code_info_to_longitudinal_data_sql — fg_append_code_info_to_longitudinal_data_sql","text":"longitudinal_data_table full path table longitudinal_data format fg_codes_info_table full path table codes info ICD10fi_map_to INPAT, OUTPAT, PRIM_OUT, DEATH registers ICD10fi combination codes split CODE1, CODE2 CODE3. parameter selects code combination codes map . Options: \"CODE1_CODE2\" : appends info combined CODE1 CODE2. e.g N0839*E112   (default). \"CODE1\" : appends info CODE1. e.g N0839 \"CODE2\" : appends info CODE2. e.g E112 \"ATC\" : appends info ATC code CODE3 column.  e.g N02BE01 PURCH_map_to PURCH register rows contain VNR code CODE2 column ATC group CODE1. parameter selects two codes append info. \"ATC\" : appends info ATC code CODE1 column. e.g. N02BE01   (default). \"REIMB\" :  appends info REIMB code CODE2 column. e.g. 205 \"VNR\" :  appends info VNR code CODE3 column. e.g. 003121 CANC_map_to CANC register ICDO3  codes split CODE1, CODE2 CODE3. parameter selects code combination codes map . \"MORPO_BEH_TOPO\" : appends info combined CODE1, CODE2 CODE3. e.g. 8140/3-C61.9  (default). \"TOPO\" : appends info TOPO code CODE1 column. e.g. C61.9 \"MORPO_BEH\" : appends info MORPHO code CODE2 column. e.g. 8140/3 REIMB_map_to REIMB register rows contain REIMB code , 1995, also ICD code leaded reimbursement. selects two codes map. \"REIMB\" : appends info REIMB code CODE1 column  (default). \"ICD\" : appends info ICD CODE1 column ICD10fi_precision Number leading codes ICD10fi map . e.g. N0839 ICD10fi_precision=3 N08  (default = 5) ICD9fi_precision Number leading codes ICD9fi map . e.g. 8450B ICD9fi_precision=3 845 (default = 5) ICD8fi_precision Number leading codes ICD8fi map . e.g. 36809 ICD8fi_precision=3 368 (default = 5) ATC_precision Number leading codes ATC map . e.g. N02BE01 ATC_precision=3 N02 (default = 7) NCSPfi_precision Number leading codes NOMESCO map . e.g. AB1CB  NCSPfi_precision=2 AB (default = 5) new_colums_sufix string indicating prefix add appended columns, default=\"\".","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_code_info_to_longitudinal_data_sql.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_append_code_info_to_longitudinal_data_sql — fg_append_code_info_to_longitudinal_data_sql","text":"sql script ready ran","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_provider_info_to_service_sector_data_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_append_provider_info_to_service_sector_data_sql — fg_append_provider_info_to_service_sector_data_sql","title":"fg_append_provider_info_to_service_sector_data_sql — fg_append_provider_info_to_service_sector_data_sql","text":"fg_append_provider_info_to_service_sector_data_sql","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_provider_info_to_service_sector_data_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_append_provider_info_to_service_sector_data_sql — fg_append_provider_info_to_service_sector_data_sql","text":"","code":"fg_append_provider_info_to_service_sector_data_sql(   service_sector_data_table,   fg_codes_info_table,   new_colums_sufix = \"\" )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_provider_info_to_service_sector_data_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_append_provider_info_to_service_sector_data_sql — fg_append_provider_info_to_service_sector_data_sql","text":"service_sector_data_table full path table service_sector_data format fg_codes_info_table full path table codes info new_colums_sufix string indicating prefix add appended columns, default=\"\".","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_provider_info_to_service_sector_data_sql.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_append_provider_info_to_service_sector_data_sql — fg_append_provider_info_to_service_sector_data_sql","text":"sql script ready ran","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_visit_type_info_to_service_sector_data_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_append_visit_type_info_to_service_sector_data_sql — fg_append_visit_type_info_to_service_sector_data_sql","title":"fg_append_visit_type_info_to_service_sector_data_sql — fg_append_visit_type_info_to_service_sector_data_sql","text":"fg_append_visit_type_info_to_service_sector_data_sql","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_visit_type_info_to_service_sector_data_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_append_visit_type_info_to_service_sector_data_sql — fg_append_visit_type_info_to_service_sector_data_sql","text":"","code":"fg_append_visit_type_info_to_service_sector_data_sql(   service_sector_data_table,   fg_codes_info_table,   prioritise_SRC_Contact_Urgency_over_SRC_Service_Sector = TRUE,   new_colums_sufix = \"\" )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_visit_type_info_to_service_sector_data_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_append_visit_type_info_to_service_sector_data_sql — fg_append_visit_type_info_to_service_sector_data_sql","text":"service_sector_data_table full path table longitudinal_data format fg_codes_info_table full path table codes info prioritise_SRC_Contact_Urgency_over_SRC_Service_Sector hilmo visits including coding systems, SRC|ServiceSector SRC|Contact|Urgency, TRUE second used new_colums_sufix string indicating prefix add appended columns, default=\"\".","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_append_visit_type_info_to_service_sector_data_sql.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_append_visit_type_info_to_service_sector_data_sql — fg_append_visit_type_info_to_service_sector_data_sql","text":"sql script ready ran","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_code_info_to_longitudinal_data.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_bq_append_code_info_to_longitudinal_data — fg_bq_append_code_info_to_longitudinal_data","title":"fg_bq_append_code_info_to_longitudinal_data — fg_bq_append_code_info_to_longitudinal_data","text":"Wrap around fg_append_code_info_to_longitudinal_data_sql work bigrquery package","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_code_info_to_longitudinal_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_bq_append_code_info_to_longitudinal_data — fg_bq_append_code_info_to_longitudinal_data","text":"","code":"fg_bq_append_code_info_to_longitudinal_data(   bq_project_id,   bq_table,   fg_codes_info_table,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_code_info_to_longitudinal_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_bq_append_code_info_to_longitudinal_data — fg_bq_append_code_info_to_longitudinal_data","text":"bq_project_id string bigquery project id bq_table object type <bq_table> table longitudinal_data format fg_codes_info_table string full path (project.schema.table) bq table fg_codes_info ... see fg_append_code_info_to_longitudinal_data_sql mapping options","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_code_info_to_longitudinal_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_bq_append_code_info_to_longitudinal_data — fg_bq_append_code_info_to_longitudinal_data","text":"bq_table added columns","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_provider_info_to_service_sector_data.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_bq_append_provider_info_to_service_sector_data — fg_bq_append_provider_info_to_service_sector_data","title":"fg_bq_append_provider_info_to_service_sector_data — fg_bq_append_provider_info_to_service_sector_data","text":"Wrap around fg_append_provider_info_to_service_sector_data_sql work bigrquery package","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_provider_info_to_service_sector_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_bq_append_provider_info_to_service_sector_data — fg_bq_append_provider_info_to_service_sector_data","text":"","code":"fg_bq_append_provider_info_to_service_sector_data(   bq_project_id,   bq_table,   fg_codes_info_table,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_provider_info_to_service_sector_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_bq_append_provider_info_to_service_sector_data — fg_bq_append_provider_info_to_service_sector_data","text":"bq_project_id string bigquery project id bq_table object type <bq_table> table longitudinal_data format fg_codes_info_table string full path (project.schema.table) bq table fg_codes_info ... see fg_append_provider_info_to_service_sector_data_sql mapping options","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_provider_info_to_service_sector_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_bq_append_provider_info_to_service_sector_data — fg_bq_append_provider_info_to_service_sector_data","text":"bq_table added columns","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_visit_type_info_to_service_sector_data.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_bq_append_visit_type_info_to_service_sector_data — fg_bq_append_visit_type_info_to_service_sector_data","title":"fg_bq_append_visit_type_info_to_service_sector_data — fg_bq_append_visit_type_info_to_service_sector_data","text":"Wrap around fg_append_visit_type_info_to_service_sector_data_sql work bigrquery package","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_visit_type_info_to_service_sector_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_bq_append_visit_type_info_to_service_sector_data — fg_bq_append_visit_type_info_to_service_sector_data","text":"","code":"fg_bq_append_visit_type_info_to_service_sector_data(   bq_project_id,   bq_table,   fg_codes_info_table,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_visit_type_info_to_service_sector_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_bq_append_visit_type_info_to_service_sector_data — fg_bq_append_visit_type_info_to_service_sector_data","text":"bq_project_id string bigquery project id bq_table object type <bq_table> table longitudinal_data format fg_codes_info_table string full path (project.schema.table) bq table fg_codes_info ... see fg_append_visit_type_info_to_service_sector_data_sql mapping options","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_bq_append_visit_type_info_to_service_sector_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_bq_append_visit_type_info_to_service_sector_data — fg_bq_append_visit_type_info_to_service_sector_data","text":"bq_table added columns","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_connection_handler — fg_connection_handler","title":"fg_connection_handler — fg_connection_handler","text":"Class handling database connection schema information CDM database","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"fg_connection_handler — fg_connection_handler","text":"databaseName text id database connects (read-). connectionHandler ConnectionHandler object managing database connection (read-). sandboxToolsSchema Name vocabulary database schema (read-). medicalCodesSchema Name CDM database schema (read-). connectionStatusLog Log tibble object storing connection status information (read-). getTblmedicalCodesSchema List functions create dbplyr table vocabulary tables (read-). getTblsandboxToolsSchema List functions create dbplyr table CDM tables (read-).","code":""},{"path":[]},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"fg_connection_handler — fg_connection_handler","text":"fg_connection_handler$new() fg_connection_handler$finalize() fg_connection_handler$loadConnection() fg_connection_handler$clone()","code":""},{"path":[]},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_connection_handler — fg_connection_handler","text":"","code":"fg_connection_handler$new(   databaseName,   connectionHandler,   medicalCodesSchema,   sandboxToolsSchema )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_connection_handler — fg_connection_handler","text":"databaseName text id database connects connectionHandler ConnectionHandler object medicalCodesSchema Name CDM database schema sandboxToolsSchema (Optional) Name vocabulary database schema (default medicalCodesSchema) Finalize method","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"method-finalize-","dir":"Reference","previous_headings":"","what":"Method finalize()","title":"fg_connection_handler — fg_connection_handler","text":"Closes connection active. Reload connection","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_connection_handler — fg_connection_handler","text":"","code":"fg_connection_handler$finalize()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"method-loadconnection-","dir":"Reference","previous_headings":"","what":"Method loadConnection()","title":"fg_connection_handler — fg_connection_handler","text":"Updates connection status checking database connection","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_connection_handler — fg_connection_handler","text":"","code":"fg_connection_handler$loadConnection()"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"fg_connection_handler — fg_connection_handler","text":"objects class cloneable method.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_connection_handler — fg_connection_handler","text":"","code":"fg_connection_handler$clone(deep = FALSE)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_connection_handler.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_connection_handler — fg_connection_handler","text":"deep Whether make deep clone.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_code_info_to_longitudinal_data.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_dbplyr_append_code_info_to_longitudinal_data — fg_dbplyr_append_code_info_to_longitudinal_data","title":"fg_dbplyr_append_code_info_to_longitudinal_data — fg_dbplyr_append_code_info_to_longitudinal_data","text":"Wrap around fg_append_code_info_to_longitudinal_data_sql work dbplyr package","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_code_info_to_longitudinal_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_dbplyr_append_code_info_to_longitudinal_data — fg_dbplyr_append_code_info_to_longitudinal_data","text":"","code":"fg_dbplyr_append_code_info_to_longitudinal_data(   dbplyr_table,   dbplyr_fg_codes_info_table,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_code_info_to_longitudinal_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_dbplyr_append_code_info_to_longitudinal_data — fg_dbplyr_append_code_info_to_longitudinal_data","text":"dbplyr_table object type  representing table longitudinal_data format dbplyr_fg_codes_info_table string full path (schema.table) database table fg_codes_info ... see fg_append_code_info_to_longitudinal_data_sql mapping options","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_code_info_to_longitudinal_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_dbplyr_append_code_info_to_longitudinal_data — fg_dbplyr_append_code_info_to_longitudinal_data","text":"added columns","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_provider_info_to_service_sector_data.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_dbplyr_append_provider_info_to_service_sector_data — fg_dbplyr_append_provider_info_to_service_sector_data","title":"fg_dbplyr_append_provider_info_to_service_sector_data — fg_dbplyr_append_provider_info_to_service_sector_data","text":"Wrap around fg_append_provider_info_to_service_sector_data_sql work dbplyr package","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_provider_info_to_service_sector_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_dbplyr_append_provider_info_to_service_sector_data — fg_dbplyr_append_provider_info_to_service_sector_data","text":"","code":"fg_dbplyr_append_provider_info_to_service_sector_data(   dbplyr_table,   dbplyr_fg_codes_info_table,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_provider_info_to_service_sector_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_dbplyr_append_provider_info_to_service_sector_data — fg_dbplyr_append_provider_info_to_service_sector_data","text":"dbplyr_table object type  representing table longitudinal_data format dbplyr_fg_codes_info_table string full path (schema.table) database table fg_codes_info ... see fg_append_code_info_to_longitudinal_data_sql mapping options","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_provider_info_to_service_sector_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_dbplyr_append_provider_info_to_service_sector_data — fg_dbplyr_append_provider_info_to_service_sector_data","text":"added columns","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_visit_type_info_to_service_sector_data.html","id":null,"dir":"Reference","previous_headings":"","what":"fg_dbplyr_append_visit_type_info_to_service_sector_data — fg_dbplyr_append_visit_type_info_to_service_sector_data","title":"fg_dbplyr_append_visit_type_info_to_service_sector_data — fg_dbplyr_append_visit_type_info_to_service_sector_data","text":"Wrap around fg_append_provider_info_to_service_sector_data_sql work dbplyr package","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_visit_type_info_to_service_sector_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fg_dbplyr_append_visit_type_info_to_service_sector_data — fg_dbplyr_append_visit_type_info_to_service_sector_data","text":"","code":"fg_dbplyr_append_visit_type_info_to_service_sector_data(   dbplyr_table,   dbplyr_fg_codes_info_table,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_visit_type_info_to_service_sector_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fg_dbplyr_append_visit_type_info_to_service_sector_data — fg_dbplyr_append_visit_type_info_to_service_sector_data","text":"dbplyr_table object type  representing table longitudinal_data format dbplyr_fg_codes_info_table string full path (schema.table) database table fg_codes_info ... see fg_append_visit_type_info_to_service_sector_data_sql mapping options","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_dbplyr_append_visit_type_info_to_service_sector_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fg_dbplyr_append_visit_type_info_to_service_sector_data — fg_dbplyr_append_visit_type_info_to_service_sector_data","text":"added columns","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_bq_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get BQ Configuration — fg_get_bq_config","title":"Get BQ Configuration — fg_get_bq_config","text":"function retrieves configuration settings work FinnGen BQ database specified environment data freeze number.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_bq_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get BQ Configuration — fg_get_bq_config","text":"","code":"fg_get_bq_config(   environment,   dataFreezeNumber,   atlasDevelopment_gckey = Sys.getenv(\"GCP_SERVICE_KEY\"),   atlasDevelopment_pathToDriver = system.file(\"drivers\", package = \"FinnGenUtilsR\"),   asYaml = FALSE )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_bq_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get BQ Configuration — fg_get_bq_config","text":"environment Environment must 'sandbox-' followed sandbox number (Alternatively, can 'atlasDevelopment' testing outside sandbox). dataFreezeNumber data freeze number retrieve configuration settings . atlasDevelopment_gckey environment = 'atlasDevelopment', path Google Cloud key file. atlasDevelopment_pathToDriver environment = 'atlasDevelopment', path BigQuery driver. asYaml Whether return configuration settings YAML string (default FALSE).","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_bq_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get BQ Configuration — fg_get_bq_config","text":"list configuration settings specified environment data freeze number.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_bq_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get BQ Configuration — fg_get_bq_config","text":"","code":"fg_get_bq_config(\"sandbox-6\", 13) #> Set option sqlRenderTempEmulationSchema = 'fg-production-sandbox-6.sandbox' #> $databaseName #> [1] \"FinnGen-DF13\" #>  #> $connection #> $connection$connectionDetailsSettings #> $connection$connectionDetailsSettings$dbms #> [1] \"bigquery\" #>  #> $connection$connectionDetailsSettings$user #> [1] \"\" #>  #> $connection$connectionDetailsSettings$password #> [1] \"\" #>  #> $connection$connectionDetailsSettings$connectionString #> [1] \"jdbc:bigquery://https://www.googleapis.com/auth/bigquery:433;ProjectId=fg-production-sandbox-6;OAuthType=3;Timeout=10000;\" #>  #> $connection$connectionDetailsSettings$pathToDriver #> [1] \"/home/ivm/.jdbc_drivers/bigquery\" #>  #>  #> $connection$tempEmulationSchema #> [1] \"fg-production-sandbox-6.sandbox\" #>  #> $connection$useBigrqueryUpload #> [1] TRUE #>  #>  #> $schemas #> $schemas$sandboxToolsSchema #> [1] \"finngen-production-library.sandbox_tools_r13\" #>  #> $schemas$medicalCodesSchema #> [1] \"finngen-production-library.medical_codes\" #>  #>"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_cdm_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get CDM Configuration — fg_get_cdm_config","title":"Get CDM Configuration — fg_get_cdm_config","text":"function retrieves configuration settings work OMOP-CDM database specified environment data freeze number.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_cdm_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get CDM Configuration — fg_get_cdm_config","text":"","code":"fg_get_cdm_config(   environment,   dataFreezeNumber,   cohortTableName = \"test_cohort_table\",   atlasDevelopment_gckey = Sys.getenv(\"GCP_SERVICE_KEY\"),   atlasDevelopment_pathToDriver = system.file(\"extdata\", \"my_raw_data.csv\", package =     \"my_package\"),   asYaml = FALSE )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_cdm_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get CDM Configuration — fg_get_cdm_config","text":"environment Environment must 'sandbox-' followed sandbox number (Alternatively, can 'atlasDevelopment' testing outside sandbox). dataFreezeNumber data freeze number retrieve configuration settings . cohortTableName cohort table needed, can set , (default \"test_cohort_table\"). atlasDevelopment_gckey environment = 'atlasDevelopment', path Google Cloud key file. atlasDevelopment_pathToDriver environment = 'atlasDevelopment', path BigQuery driver. asYaml Whether return configuration settings YAML string (default FALSE).","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_cdm_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get CDM Configuration — fg_get_cdm_config","text":"list configuration settings specified environment data freeze number.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/fg_get_cdm_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get CDM Configuration — fg_get_cdm_config","text":"","code":"fg_get_cdm_config(\"sandbox-6\", 13) #> Set option sqlRenderTempEmulationSchema = 'fg-production-sandbox-6.sandbox' #> $databaseName #> [1] \"FinnGen-DF13\" #>  #> $connection #> $connection$connectionDetailsSettings #> $connection$connectionDetailsSettings$dbms #> [1] \"bigquery\" #>  #> $connection$connectionDetailsSettings$user #> [1] \"\" #>  #> $connection$connectionDetailsSettings$password #> [1] \"\" #>  #> $connection$connectionDetailsSettings$connectionString #> [1] \"jdbc:bigquery://https://www.googleapis.com/auth/bigquery:433;ProjectId=fg-production-sandbox-6;OAuthType=3;Timeout=10000;\" #>  #> $connection$connectionDetailsSettings$pathToDriver #> [1] \"/home/ivm/.jdbc_drivers/bigquery\" #>  #>  #> $connection$tempEmulationSchema #> [1] \"fg-production-sandbox-6.sandbox\" #>  #> $connection$useBigrqueryUpload #> [1] TRUE #>  #>  #> $cdm #> $cdm$cdmDatabaseSchema #> [1] \"finngen-production-library.finngen_omop_r13\" #>  #> $cdm$vocabularyDatabaseSchema #> [1] \"finngen-production-library.finngen_omop_r13\" #>  #>  #> $cohortTable #> $cohortTable$cohortDatabaseSchema #> [1] \"fg-production-sandbox-6.sandbox\" #>  #> $cohortTable$cohortTableName #> [1] \"test_cohort_table\" #>  #>  #> $webAPIurl #> [1] \"https://ohdsi-webapi.app.finngen.fi/WebAPI/\" #>"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":null,"dir":"Reference","previous_headings":"","what":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"tmp fix ConnectionHandler tmp fix ConnectionHandler","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"till fixed https://github.com/OHDSI/DatabaseConnector/issues/236","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"FinnGenUtilsR::ConnectionHandler -> tmp_ConnectionHandler","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"FinnGenUtilsR::ConnectionHandler$closeConnection() FinnGenUtilsR::ConnectionHandler$dbIsValid() FinnGenUtilsR::ConnectionHandler$dbms() FinnGenUtilsR::ConnectionHandler$executeFunction() FinnGenUtilsR::ConnectionHandler$executeSql() FinnGenUtilsR::ConnectionHandler$finalize() FinnGenUtilsR::ConnectionHandler$getConnection() FinnGenUtilsR::ConnectionHandler$initConnection() FinnGenUtilsR::ConnectionHandler$initialize() FinnGenUtilsR::ConnectionHandler$queryDb() FinnGenUtilsR::ConnectionHandler$queryFunction() FinnGenUtilsR::ConnectionHandler$renderTranslateSql()","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"tmp_ConnectionHandler$tbl() tmp_ConnectionHandler$clone()","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"method-tbl-","dir":"Reference","previous_headings":"","what":"Method tbl()","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"get dplyr table object (.e. lazy loaded)","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"","code":"tmp_ConnectionHandler$tbl(table, databaseSchema = NULL)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"table table name databaseSchema databaseSchema table belongs","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"objects class cloneable method.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"","code":"tmp_ConnectionHandler$clone(deep = FALSE)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_ConnectionHandler.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"tmp fix for ConnectionHandler — tmp_ConnectionHandler","text":"deep Whether make deep clone.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_dplyr_copy_to.html","id":null,"dir":"Reference","previous_headings":"","what":"tmp fix for dplyr::copy_to — tmp_dplyr_copy_to","title":"tmp fix for dplyr::copy_to — tmp_dplyr_copy_to","text":"dplyr::copy_to slow upload tables BQ. function calls dplyr::copy_to except option \"useBigrqueryUpload\" option set TRUE case uses package bigrquery upload table","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_dplyr_copy_to.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"tmp fix for dplyr::copy_to — tmp_dplyr_copy_to","text":"","code":"tmp_dplyr_copy_to(   dest,   df,   name = deparse(substitute(df)),   overwrite = FALSE,   ... )"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_dplyr_copy_to.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"tmp fix for dplyr::copy_to — tmp_dplyr_copy_to","text":"dest destination database connection table name. df data frame copied. name name destination table (default name data frame). overwrite Logical value indicating whether overwrite existing table (default FALSE). ... pass parameters dplyr::copy_to","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_dplyr_copy_to.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"tmp fix for dplyr::copy_to — tmp_dplyr_copy_to","text":"new table created updated table.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_inDatabaseSchema.html","id":null,"dir":"Reference","previous_headings":"","what":"tmp fix for DatabaseConnector::inDatabaseSchema — tmp_inDatabaseSchema","title":"tmp fix for DatabaseConnector::inDatabaseSchema — tmp_inDatabaseSchema","text":"till fixed https://github.com/OHDSI/DatabaseConnector/issues/236","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_inDatabaseSchema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"tmp fix for DatabaseConnector::inDatabaseSchema — tmp_inDatabaseSchema","text":"","code":"tmp_inDatabaseSchema(databaseSchema, table)"},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_inDatabaseSchema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"tmp fix for DatabaseConnector::inDatabaseSchema — tmp_inDatabaseSchema","text":"databaseSchema name database schema. table name table.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/reference/tmp_inDatabaseSchema.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"tmp fix for DatabaseConnector::inDatabaseSchema — tmp_inDatabaseSchema","text":"fully qualified table name database schema.","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-300","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 3.0.0","title":"FinnGenUtilsR 3.0.0","text":"Make package compatible Sandbox local CRAN Added functions add info longitudinal data using dbplyr Added tutorial work FGconnectionHandler dbplyr","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-221","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 2.2.1","title":"FinnGenUtilsR 2.2.1","text":"Fix bug fg_get_bq_config","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-220","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 2.2.0","title":"FinnGenUtilsR 2.2.0","text":"Added FGconnectionHandler fg_get_bq_config() connect adn work FinnGen BQ databases dataframes","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-210","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 2.1.0","title":"FinnGenUtilsR 2.1.0","text":"Added fg_get_cdm_config function “Tutorial using omop-cdm” vignette","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-201","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 2.0.1","title":"FinnGenUtilsR 2.0.1","text":"fg_bq_append_xxx functions pass extra parameters bq_project_query, (e.g allows pass quiet=TRUE)","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-200","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 2.0.0","title":"FinnGenUtilsR 2.0.0","text":"Added function name visit type service sector data Added function name provider service sector data","code":""},{"path":"https://finngen.github.io/FinnGenUtilsR/news/index.html","id":"finngenutilsr-100","dir":"Changelog","previous_headings":"","what":"FinnGenUtilsR 1.0.0","title":"FinnGenUtilsR 1.0.0","text":"Created function fg_append_code_info_to_longitudinal_data_sql","code":""}]
